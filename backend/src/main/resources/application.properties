spring.application.name=backend
# =======================================
# JWT Security Configuration
# =======================================
# Clave secreta para firmar los tokens JWT. DEBE ser una cadena larga y segura.
app.jwtSecret=a2a4e1f2a8d5b9e8c7d6f5a4b3c2d1e0f9a8b7c6d5e4f3a2b1c0d9e8f7a6b5c4
# Tiempo de expiración del token JWT en milisegundos (ej: 1 hora = 3600000)
app.jwtExpirationInMs=86400000

# =================================================
# CONFIGURACIÓN DE LA BASE DE DATOS ORACLE
# =================================================

# Usuario y contraseña de la base de datos
spring.datasource.username=ADMIN
spring.datasource.password=Tallerbasedatos2

# URL de conexión JDBC usando el alias de tu tnsnames.ora
spring.datasource.url=jdbc:oracle:thin:@tallerbasedatos2_high

# Driver de Oracle
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver

# =================================================
# CONFIGURACIÓN DE ORACLE WALLET (TNS)
# =================================================
# Ruta a la carpeta del wallet. ¡Asegúrate de que la ruta sea correcta!
# Spring Boot reemplazará las barras invertidas correctamente.
spring.oracle.wallet.location=/home/ubuntu/Level-UP/wallet

# Propiedades del sistema para el driver JDBC
oracle.net.tns_admin=${spring.oracle.wallet.location}

# Propiedades específicas de HikariCP para Oracle
spring.datasource.hikari.data-source-properties.oracle.net.tns_admin=${spring.oracle.wallet.location}

# DESHABILITAR mTLS (autenticación de cliente con certificados)
spring.datasource.hikari.data-source-properties.oracle.net.ssl_server_dn_match=yes
spring.datasource.hikari.data-source-properties.javax.net.ssl.keyStore=
spring.datasource.hikari.data-source-properties.javax.net.ssl.keyStorePassword=
spring.datasource.hikari.data-source-properties.javax.net.ssl.keyStoreType=

# =================================================
# CONFIGURACIÓN DE JPA (HIBERNATE)
# =================================================

# Dialecto de Oracle para que Hibernate genere el SQL correcto
spring.jpa.database-platform=org.hibernate.dialect.OracleDialect

# Muestra las consultas SQL en la consola (muy útil para depurar)
spring.jpa.show-sql=true

# Formatea el SQL mostrado en la consola para que sea legible
spring.jpa.properties.hibernate.format_sql=true

# Estrategia de creación de tablas (validate: no hace nada, solo valida que las tablas existan)
spring.jpa.hibernate.ddl-auto=none

# ADVERTENCIA: Deshabilita "open-in-view" para evitar problemas de rendimiento
spring.jpa.open-in-view=false

# =================================================
# CONFIGURACIÓN DEL SERVIDOR
# =================================================

# Puerto en el que correrá el backend de Spring Boot
server.port=8080

# Springdoc (Swagger) Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operations-sorter=alpha
springdoc.swagger-ui.tags-sorter=alpha
springdoc.writer.api-docs.path=./swagger
